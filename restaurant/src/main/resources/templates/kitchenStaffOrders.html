<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Orders</title>
    <link th:href="@{/styles/ordering-menu.css}" rel="stylesheet" type="text/css">
    <link th:href="@{/styles/orders.css}" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/css/toastr.min.css"/>
    <script type="text/javascript" src="/webjars/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="/webjars/bootstrap/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
</head>
<body>
    <!-- The header -->
    <header>
        <a href="#" class="logo">ResturantNameHere</a>
        <nav class="navbar">
            <a href="home">Home</a>
            <a href="orderingmenu">dishes</a>
            <a href="#">Contact us</a>
            <a href="basket">Orders</a>
            <div class="navbar-right">
                <a th:if="${session.user}==null" href="login">Login</a>
                <span th:if="${session.user}!=null">
                    <a href = "help">Help</a>
                    <div class="logoutb">
                        <button class="logoutdrop" th:text="${session.user.getUsername}"></button>
                        <div class="dropcontent">
                            <form th:action="@{/logout}" th:method="post">
                                <button class="logout" type="submit">Logout</button>
                            </form>
                        </div>
                    </div>
                </span>
            </div>
        </nav>
    </header>

    <section>
        <section class="tables">
            <table class="ordersTable">
                <thead>
                    <tr><th>Confirmed Orders</th><tr>
                    <tr>
                        <th>Order ID</th>
                        <th>Time placed</th>
                        <th>Status</th>
                        <th>Start Cooking?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item: ${ConfirmedStateOrder}">
                        <td th:text="${item.getOrderId()}"></td>
                        <td th:text="${item.timeplaced}"></td>
                        <td th:text="Confirmed"></td>
                        <td>
                            <!-- This button changes the state of the item from "Confirmed" to "Cooking" -->
                            <form th:action="@{/changeToCooking}" th:method="post">
                                <button type="submit">Yes</button>
                                <input type="hidden" name ="input" th:value="${item.getOrderId()}"/>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="tables">
            <table class="ordersTable">
                <thead>
                    <tr><th>Cooking State Orders</th><tr>
                    <tr>
                        <th>Order ID</th>
                        <th>Time placed</th>
                        <th>Status</th>
                        <th>View Details</th>
                        <th>Finish Cooking?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="item: ${CookingStateOrder}">
                        <td th:text="${item.getOrderId()}"></td>
                        <td th:text="${item.timeplaced}"></td>
                        <td th:text="Cooking"></td>
                        <td>
                            <form th:action="@{/viewDetail}" th:method="post">
                                <button type="submit">View</button>
                                <input type="hidden" name ="input" th:value="${item.getOrderId()}"/>
                            </form>
                        </td>
                        <td>
                            <!-- This button changes the state of the item from "Cooking" to "Ready" -->
                            <form th:action="@{/changeToReady}" th:method="post">
                                <button type="submit">Yes</button>
                                <input type="hidden" name ="input" th:value="${item.getOrderId()}"/>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="tables">
            <table class="ordersTable">
                <thead>
                <tr><th>Ready State Orders</th><tr>
                <tr>
                    <th>Order ID</th>
                    <th>Time placed</th>
                    <th>Status</th>
                    <th>View Details</th>
                </tr>
                </thead>
                <tbody>
                    <tr th:each="item: ${ReadyStateOrder}">
                        <td th:text="${item.getOrderId()}"></td>
                        <td th:text="${item.timeplaced}"></td>
                        <td th:text="Ready"></td>
                        <td>
                            <form th:action="@{/viewDetail}" th:method="post">
                                <button type="submit">View</button>
                                <input type="hidden" name ="input" th:value="${item.getOrderId()}"/>
                            </form>
                        </td>
                    </tr>
                </tbody>
            </table>
        </section>
    </section>
</body>
</html>